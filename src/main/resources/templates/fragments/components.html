<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<!-- head component  -->
<head th:fragment="head(title)">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Airline Reservation Simulator Web Application"/>
    <meta name="author" content="Harry Dulaney"/>
    <title class="card-title text-center" th:replace="${title}">Airline Reservation Simulator</title>
    <link rel="stylesheet" type="text/css"
          href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
          integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l" crossorigin="anonymous">
    <!-- Bootstrap icons-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <!-- Core theme CSS (includes Bootstrap)-->
    <link type="text/css" href="/css/styles.css" rel="stylesheet"/>
    <link rel="stylesheet" type="text/css"
          href="https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css"
          crossorigin="anonymous">
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="/icon/favicon.ico">
</head>

<!-------------------------------------------------- SIGNED IN NAVBAR -------------------------------------------------->
<nav class="navbar navbar-expand-md navbar-dark bg-dark" th:fragment="signedIn">
    <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
                <a class="nav-link text-primary font-weight-bold" th:href="@{/reservations}">MY TRIPS</a>
            </li>
            <li class="nav-item"><a class="nav-link text-primary font-weight-bold" th:href="@{/searchFlights/}">BOOK
                FLIGHTS</a>
            </li>

            <!-------------------------------------------------- ADMIN ONLY NAV DROPDOWN -------------------------------------------------->
            <li class="nav-item dropdown" sec:authorize="hasAuthority('admins')">
                <a class="nav-link dropdown-toggle text-danger font-weight-bold" href="#" id="navbarDropdown"
                   role="button"
                   data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    ADMIN
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#">Action</a>
                    <a th:href="@{/admin/flightSchedule}" class="dropdown-item">Edit Flight Schedules</a>
                    <a class="dropdown-item" href="#">Add Flights</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Admin Actions</a>
                </div>
            </li>
            <!-------------------------------------------------- ADMIN AUTHORITY ONLY END -------------------------------------------------->
        </ul>
    </div>
    <div class="mx-auto order-0">
        <a class="navbar-brand mx-auto text-white font-weight-bold" th:href="@{/}"> <i
                class="bi bi-house"></i>
            Simulation Airlines</a>
        <button class="navbar-toggler mx-sm-1" type="button" data-toggle="collapse" data-target=".dual-collapse2">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
    <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <form id="logoutForm" method="post" th:action="@{/logout}">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <a class="nav-link font-weight-bold text-warning"
                       href="javascript:null" onclick="document.getElementById('logoutForm').submit();">SIGN OUT</a>
                </form>
            </li>
            <li class="nav-item">
                <a class="nav-link text-white" target="_blank"
                   href="https://github.com/harrydulaney/airline-reservation-system"><i
                        class="bi bi-github"></i></a></li>
        </ul>
    </div>
</nav>

<!-------------------------------------------------- SIGNED OUT NAVBAR -------------------------------------------------->
<nav class="navbar navbar-expand-md navbar-dark bg-dark" th:fragment="signedOut">
    <div class="navbar-collapse collapse w-100 order-1 order-md-0 dual-collapse2">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item disabled">
                <a class="nav-link disabled" href="#!" th:disabled>MY TRIPS</a>
            </li>
            <li class="nav-item disabled">
                <a class="nav-link disabled" href="#!" th:disabled>BOOK FLIGHTS</a>
            </li>
        </ul>
    </div>
    <div class="mx-auto order-0">
        <a class="navbar-brand mx-auto text-white font-weight-bold" th:href="@{/}"> <i
                class="bi bi-house"></i>
            Simulation Airlines</a>
        <button class="navbar-toggler mx-sm-1" type="button" data-toggle="collapse" data-target=".dual-collapse2">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
    <div class="navbar-collapse collapse w-100 order-3 dual-collapse2">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item">
                <a id="login-button" class="nav-link font-weight-bold text-warning"
                   th:href="@{/oauth2/authorization/okta}"
                   type="submit">SIGN IN
                </a>
            </li>
            <li class="nav-item">
                <a id="register-button" th:href="@{/register}"
                   class="nav-link font-weight-bold text-primary"
                   type="submit">
                    REGISTER
                </a>
            </li>

            <li class="nav-item">
                <a class="nav-link text-white"
                   target="_blank"
                   href="https://github.com/harrydulaney/airline-reservation-system"><i
                        class="bi bi-github"></i></a></li>

        </ul>
    </div>
</nav>


<!-------------------------------------------------- FOOTER -------------------------------------------------->
<footer style="bottom: 0" class="align-bottom p-2" th:fragment="footer">
    <div class="container" th:align="center">
    <span style="bottom: 0" class="text-center align-bottom"><a class="btn btn-secondary"
                                                                href="https://github.com/harrydulaney" target="_blank">Github Project <i
            class="bi bi-github"></i></a>
                    <span class="container mx-5">Copyright &copy; Harry Dulaney 2021</span>

    </span>
    </div>
</footer>

<!-------------------------------------------------- JAVASCRIPT GLOBAL -------------------------------------------------->
<div th:fragment="jsScripts">
    <script src="https://ok1static.oktacdn.com/assets/js/sdk/okta-signin-widget/2.9.0/js/okta-sign-in.min.js"
            type="text/javascript"></script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.9.2/umd/popper.min.js"
            integrity="sha512-2rNj2KJ+D8s1ceNasTIex6z4HWyOnEYLVC3FigGOmyQCZc2eBXKgOxQmo3oKLHyfcj53uz4QMsRCWNbLd32Q1g=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
            integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
            crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"
            crossorigin="anonymous"></script>
</div>
</html>
